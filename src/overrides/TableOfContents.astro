---
import Default from '@astrojs/starlight/components/TableOfContents.astro'
import MiniGraph from '../components/MiniGraph'

const { slug } = Astro.params
const currentPage = slug ? `/${slug}/` : undefined
const contentPrefixes = ['/ethereum/']
const isContentPage = contentPrefixes.some(p => currentPage?.startsWith(p))
---

<Default {...Astro.props}><slot /></Default>

{isContentPage && currentPage && (
  <MiniGraph client:idle currentPage={currentPage} />
)}
